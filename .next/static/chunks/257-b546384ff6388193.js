(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[257],{4699:function(e,t){"use strict";t.byteLength=function(e){var t=getLens(e),r=t[0],n=t[1];return(r+n)*3/4-n},t.toByteArray=function(e){var t,r,i=getLens(e),a=i[0],s=i[1],l=new o((a+s)*3/4-s),u=0,f=s>0?a-4:a;for(r=0;r<f;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;return 2===s&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,l[u++]=255&t),1===s&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t),l},t.fromByteArray=function(e){for(var t,n=e.length,o=n%3,i=[],a=0,s=n-o;a<s;a+=16383)i.push(function(e,t,n){for(var o,i=[],a=t;a<n;a+=3)i.push(r[(o=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]))>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return i.join("")}(e,a,a+16383>s?s:a+16383));return 1===o?i.push(r[(t=e[n-1])>>2]+r[t<<4&63]+"=="):2===o&&i.push(r[(t=(e[n-2]<<8)+e[n-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),i.join("")};for(var r=[],n=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=i.length;a<s;++a)r[a]=i[a],n[i.charCodeAt(a)]=a;function getLens(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},7133:function(e,t,r){"use strict";/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var n=r(4699),o=r(9087),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function createBuffer(e){if(e>2147483647)throw RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,Buffer.prototype),t}function Buffer(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return allocUnsafe(e)}return from(e,t,r)}function from(e,t,r){if("string"==typeof e)return function(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!Buffer.isEncoding(t))throw TypeError("Unknown encoding: "+t);var r=0|byteLength(e,t),n=createBuffer(r),o=n.write(e,t);return o!==r&&(n=n.slice(0,o)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(isInstance(e,Uint8Array)){var t=new Uint8Array(e);return fromArrayBuffer(t.buffer,t.byteOffset,t.byteLength)}return fromArrayLike(e)}(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(isInstance(e,ArrayBuffer)||e&&isInstance(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(isInstance(e,SharedArrayBuffer)||e&&isInstance(e.buffer,SharedArrayBuffer)))return fromArrayBuffer(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return Buffer.from(n,t,r);var o=function(e){if(Buffer.isBuffer(e)){var t,r=0|checked(e.length),n=createBuffer(r);return 0===n.length||e.copy(n,0,0,r),n}return void 0!==e.length?"number"!=typeof e.length||(t=e.length)!=t?createBuffer(0):fromArrayLike(e):"Buffer"===e.type&&Array.isArray(e.data)?fromArrayLike(e.data):void 0}(e);if(o)return o;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return Buffer.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function assertSize(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function allocUnsafe(e){return assertSize(e),createBuffer(e<0?0:0|checked(e))}function fromArrayLike(e){for(var t=e.length<0?0:0|checked(e.length),r=createBuffer(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function fromArrayBuffer(e,t,r){var n;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Buffer.prototype),n}function checked(e){if(e>=2147483647)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function byteLength(e,t){if(Buffer.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||isInstance(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var o=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return utf8ToBytes(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return base64ToBytes(e).length;default:if(o)return n?-1:utf8ToBytes(e).length;t=(""+t).toLowerCase(),o=!0}}function slowToString(e,t,r){var o,i,a=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var o="",i=t;i<r;++i)o+=s[e[i]];return o}(this,t,r);case"utf8":case"utf-8":return utf8Slice(this,t,r);case"ascii":return function(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(127&e[o]);return n}(this,t,r);case"latin1":case"binary":return function(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o)n+=String.fromCharCode(e[o]);return n}(this,t,r);case"base64":return o=t,i=r,0===o&&i===this.length?n.fromByteArray(this):n.fromByteArray(this.slice(o,i));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){for(var n=e.slice(t,r),o="",i=0;i<n.length-1;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}(this,t,r);default:if(a)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),a=!0}}function swap(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function bidirectionalIndexOf(e,t,r,n,o){var i;if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),(i=r=+r)!=i&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return -1;r=e.length-1}else if(r<0){if(!o)return -1;r=0}if("string"==typeof t&&(t=Buffer.from(t,n)),Buffer.isBuffer(t))return 0===t.length?-1:arrayIndexOf(e,t,r,n,o);if("number"==typeof t)return(t&=255,"function"==typeof Uint8Array.prototype.indexOf)?o?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):arrayIndexOf(e,[t],r,n,o);throw TypeError("val must be string, number or Buffer")}function arrayIndexOf(e,t,r,n,o){var i,a=1,s=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;a=2,s/=2,l/=2,r/=2}function read(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var u=-1;for(i=r;i<s;i++)if(read(e,i)===read(t,-1===u?0:i-u)){if(-1===u&&(u=i),i-u+1===l)return u*a}else -1!==u&&(i-=i-u),u=-1}else for(r+l>s&&(r=s-l),i=r;i>=0;i--){for(var f=!0,c=0;c<l;c++)if(read(e,i+c)!==read(t,c)){f=!1;break}if(f)return i}return -1}function utf8Slice(e,t,r){r=Math.min(e.length,r);for(var n=[],o=t;o<r;){var i,a,s,l,u=e[o],f=null,c=u>239?4:u>223?3:u>191?2:1;if(o+c<=r)switch(c){case 1:u<128&&(f=u);break;case 2:(192&(i=e[o+1]))==128&&(l=(31&u)<<6|63&i)>127&&(f=l);break;case 3:i=e[o+1],a=e[o+2],(192&i)==128&&(192&a)==128&&(l=(15&u)<<12|(63&i)<<6|63&a)>2047&&(l<55296||l>57343)&&(f=l);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],(192&i)==128&&(192&a)==128&&(192&s)==128&&(l=(15&u)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(f=l)}null===f?(f=65533,c=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),o+=c}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}function checkOffset(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function checkInt(e,t,r,n,o,i){if(!Buffer.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function checkIEEE754(e,t,r,n,o,i){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function writeFloat(e,t,r,n,i){return t=+t,r>>>=0,i||checkIEEE754(e,t,r,4,34028234663852886e22,-34028234663852886e22),o.write(e,t,r,n,23,4),r+4}function writeDouble(e,t,r,n,i){return t=+t,r>>>=0,i||checkIEEE754(e,t,r,8,17976931348623157e292,-17976931348623157e292),o.write(e,t,r,n,52,8),r+8}t.lW=Buffer,t.h2=50,Buffer.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),Buffer.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(Buffer.prototype,"parent",{enumerable:!0,get:function(){if(Buffer.isBuffer(this))return this.buffer}}),Object.defineProperty(Buffer.prototype,"offset",{enumerable:!0,get:function(){if(Buffer.isBuffer(this))return this.byteOffset}}),Buffer.poolSize=8192,Buffer.from=function(e,t,r){return from(e,t,r)},Object.setPrototypeOf(Buffer.prototype,Uint8Array.prototype),Object.setPrototypeOf(Buffer,Uint8Array),Buffer.alloc=function(e,t,r){return(assertSize(e),e<=0)?createBuffer(e):void 0!==t?"string"==typeof r?createBuffer(e).fill(t,r):createBuffer(e).fill(t):createBuffer(e)},Buffer.allocUnsafe=function(e){return allocUnsafe(e)},Buffer.allocUnsafeSlow=function(e){return allocUnsafe(e)},Buffer.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==Buffer.prototype},Buffer.compare=function(e,t){if(isInstance(e,Uint8Array)&&(e=Buffer.from(e,e.offset,e.byteLength)),isInstance(t,Uint8Array)&&(t=Buffer.from(t,t.offset,t.byteLength)),!Buffer.isBuffer(e)||!Buffer.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,o=0,i=Math.min(r,n);o<i;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return r<n?-1:n<r?1:0},Buffer.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(e,t){if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return Buffer.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;var r,n=Buffer.allocUnsafe(t),o=0;for(r=0;r<e.length;++r){var i=e[r];if(isInstance(i,Uint8Array))o+i.length>n.length?Buffer.from(i).copy(n,o):Uint8Array.prototype.set.call(n,i,o);else if(Buffer.isBuffer(i))i.copy(n,o);else throw TypeError('"list" argument must be an Array of Buffers');o+=i.length}return n},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)swap(this,t,t+1);return this},Buffer.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)swap(this,t,t+3),swap(this,t+1,t+2);return this},Buffer.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)swap(this,t,t+7),swap(this,t+1,t+6),swap(this,t+2,t+5),swap(this,t+3,t+4);return this},Buffer.prototype.toString=function(){var e=this.length;return 0===e?"":0==arguments.length?utf8Slice(this,0,e):slowToString.apply(this,arguments)},Buffer.prototype.toLocaleString=Buffer.prototype.toString,Buffer.prototype.equals=function(e){if(!Buffer.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===Buffer.compare(this,e)},Buffer.prototype.inspect=function(){var e="",r=t.h2;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},i&&(Buffer.prototype[i]=Buffer.prototype.inspect),Buffer.prototype.compare=function(e,t,r,n,o){if(isInstance(e,Uint8Array)&&(e=Buffer.from(e,e.offset,e.byteLength)),!Buffer.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),t<0||r>e.length||n<0||o>this.length)throw RangeError("out of range index");if(n>=o&&t>=r)return 0;if(n>=o)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,o>>>=0,this===e)return 0;for(var i=o-n,a=r-t,s=Math.min(i,a),l=this.slice(n,o),u=e.slice(t,r),f=0;f<s;++f)if(l[f]!==u[f]){i=l[f],a=u[f];break}return i<a?-1:a<i?1:0},Buffer.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},Buffer.prototype.indexOf=function(e,t,r){return bidirectionalIndexOf(this,e,t,r,!0)},Buffer.prototype.lastIndexOf=function(e,t,r){return bidirectionalIndexOf(this,e,t,r,!1)},Buffer.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var o,i,a,s,l,u,f,c,d=this.length-t;if((void 0===r||r>d)&&(r=d),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var p=!1;;)switch(n){case"hex":return function(e,t,r,n){r=Number(r)||0;var o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;var i=t.length;n>i/2&&(n=i/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(2*a,2),16);if(s!=s)break;e[r+a]=s}return a}(this,e,t,r);case"utf8":case"utf-8":return o=t,i=r,blitBuffer(utf8ToBytes(e,this.length-o),this,o,i);case"ascii":case"latin1":case"binary":return a=t,s=r,blitBuffer(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(e),this,a,s);case"base64":return l=t,u=r,blitBuffer(base64ToBytes(e),this,l,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return f=t,c=r,blitBuffer(function(e,t){for(var r,n,o=[],i=0;i<e.length&&!((t-=2)<0);++i)n=(r=e.charCodeAt(i))>>8,o.push(r%256),o.push(n);return o}(e,this.length-f),this,f,c);default:if(p)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),p=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},Buffer.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,Buffer.prototype),n},Buffer.prototype.readUintLE=Buffer.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n},Buffer.prototype.readUintBE=Buffer.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);for(var n=this[e+--t],o=1;t>0&&(o*=256);)n+=this[e+--t]*o;return n},Buffer.prototype.readUint8=Buffer.prototype.readUInt8=function(e,t){return e>>>=0,t||checkOffset(e,1,this.length),this[e]},Buffer.prototype.readUint16LE=Buffer.prototype.readUInt16LE=function(e,t){return e>>>=0,t||checkOffset(e,2,this.length),this[e]|this[e+1]<<8},Buffer.prototype.readUint16BE=Buffer.prototype.readUInt16BE=function(e,t){return e>>>=0,t||checkOffset(e,2,this.length),this[e]<<8|this[e+1]},Buffer.prototype.readUint32LE=Buffer.prototype.readUInt32LE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},Buffer.prototype.readUint32BE=Buffer.prototype.readUInt32BE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},Buffer.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*t)),n},Buffer.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||checkOffset(e,t,this.length);for(var n=t,o=1,i=this[e+--n];n>0&&(o*=256);)i+=this[e+--n]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},Buffer.prototype.readInt8=function(e,t){return(e>>>=0,t||checkOffset(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},Buffer.prototype.readInt16LE=function(e,t){e>>>=0,t||checkOffset(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt16BE=function(e,t){e>>>=0,t||checkOffset(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},Buffer.prototype.readInt32LE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},Buffer.prototype.readInt32BE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},Buffer.prototype.readFloatLE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),o.read(this,e,!0,23,4)},Buffer.prototype.readFloatBE=function(e,t){return e>>>=0,t||checkOffset(e,4,this.length),o.read(this,e,!1,23,4)},Buffer.prototype.readDoubleLE=function(e,t){return e>>>=0,t||checkOffset(e,8,this.length),o.read(this,e,!0,52,8)},Buffer.prototype.readDoubleBE=function(e,t){return e>>>=0,t||checkOffset(e,8,this.length),o.read(this,e,!1,52,8)},Buffer.prototype.writeUintLE=Buffer.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){var o=Math.pow(2,8*r)-1;checkInt(this,e,t,r,o,0)}var i=1,a=0;for(this[t]=255&e;++a<r&&(i*=256);)this[t+a]=e/i&255;return t+r},Buffer.prototype.writeUintBE=Buffer.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){var o=Math.pow(2,8*r)-1;checkInt(this,e,t,r,o,0)}var i=r-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+r},Buffer.prototype.writeUint8=Buffer.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,1,255,0),this[t]=255&e,t+1},Buffer.prototype.writeUint16LE=Buffer.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},Buffer.prototype.writeUint16BE=Buffer.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},Buffer.prototype.writeUint32LE=Buffer.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},Buffer.prototype.writeUint32BE=Buffer.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},Buffer.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var o=Math.pow(2,8*r-1);checkInt(this,e,t,r,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<r&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+r},Buffer.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var o=Math.pow(2,8*r-1);checkInt(this,e,t,r,o-1,-o)}var i=r-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+r},Buffer.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},Buffer.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},Buffer.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},Buffer.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},Buffer.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||checkInt(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},Buffer.prototype.writeFloatLE=function(e,t,r){return writeFloat(this,e,t,!0,r)},Buffer.prototype.writeFloatBE=function(e,t,r){return writeFloat(this,e,t,!1,r)},Buffer.prototype.writeDoubleLE=function(e,t,r){return writeDouble(this,e,t,!0,r)},Buffer.prototype.writeDoubleBE=function(e,t,r){return writeDouble(this,e,t,!1,r)},Buffer.prototype.copy=function(e,t,r,n){if(!Buffer.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var o=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),o},Buffer.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!Buffer.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===e.length){var o,i=e.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(e=i)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{var a=Buffer.isBuffer(e)?e:Buffer.from(e,n),s=a.length;if(0===s)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<r-t;++o)this[o+t]=a[o%s]}return this};var a=/[^+/0-9A-Za-z-_]/g;function utf8ToBytes(e,t){t=t||1/0;for(var r,n=e.length,o=null,i=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!o){if(r>56319||a+1===n){(t-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return i}function base64ToBytes(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(a,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function blitBuffer(e,t,r,n){for(var o=0;o<n&&!(o+r>=t.length)&&!(o>=e.length);++o)t[o+r]=e[o];return o}function isInstance(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}var s=function(){for(var e="0123456789abcdef",t=Array(256),r=0;r<16;++r)for(var n=16*r,o=0;o<16;++o)t[n+o]=e[r]+e[o];return t}()},9087:function(e,t){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */t.read=function(e,t,r,n,o){var i,a,s=8*o-n-1,l=(1<<s)-1,u=l>>1,f=-7,c=r?o-1:0,d=r?-1:1,p=e[t+c];for(c+=d,i=p&(1<<-f)-1,p>>=-f,f+=s;f>0;i=256*i+e[t+c],c+=d,f-=8);for(a=i&(1<<-f)-1,i>>=-f,f+=n;f>0;a=256*a+e[t+c],c+=d,f-=8);if(0===i)i=1-u;else{if(i===l)return a?NaN:(p?-1:1)*(1/0);a+=Math.pow(2,n),i-=u}return(p?-1:1)*a*Math.pow(2,i-n)},t.write=function(e,t,r,n,o,i){var a,s,l,u=8*i-o-1,f=(1<<u)-1,c=f>>1,d=23===o?5960464477539062e-23:0,p=n?0:i-1,h=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(isNaN(t=Math.abs(t))||t===1/0?(s=isNaN(t)?1:0,a=f):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+c>=1?t+=d/l:t+=d*Math.pow(2,1-c),t*l>=2&&(a++,l/=2),a+c>=f?(s=0,a=f):a+c>=1?(s=(t*l-1)*Math.pow(2,o),a+=c):(s=t*Math.pow(2,c-1)*Math.pow(2,o),a=0));o>=8;e[r+p]=255&s,p+=h,s/=256,o-=8);for(a=a<<o|s,u+=o;u>0;e[r+p]=255&a,p+=h,a/=256,u-=8);e[r+p-h]|=128*g}},2601:function(e,t,r){"use strict";var n,o;e.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(o=r.g.process)?void 0:o.env)?r.g.process:r(8960)},413:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"Image",{enumerable:!0,get:function(){return g}});let n=r(1024),o=r(8533),i=o._(r(2265)),a=n._(r(4887)),s=n._(r(5793)),l=r(7929),u=r(5751),f=r(7327);r(2637);let c=r(6304),d=n._(r(9950)),p={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1};function handleLoading(e,t,r,n,o,i){let a=null==e?void 0:e.src;if(!e||e["data-loaded-src"]===a)return;e["data-loaded-src"]=a;let s="decode"in e?e.decode():Promise.resolve();s.catch(()=>{}).then(()=>{if(e.parentElement&&e.isConnected){if("empty"!==t&&o(!0),null==r?void 0:r.current){let t=new Event("load");Object.defineProperty(t,"target",{writable:!1,value:e});let n=!1,o=!1;r.current({...t,nativeEvent:t,currentTarget:e,target:e,isDefaultPrevented:()=>n,isPropagationStopped:()=>o,persist:()=>{},preventDefault:()=>{n=!0,t.preventDefault()},stopPropagation:()=>{o=!0,t.stopPropagation()}})}(null==n?void 0:n.current)&&n.current(e)}})}function getDynamicProps(e){let[t,r]=i.version.split("."),n=parseInt(t,10),o=parseInt(r,10);return n>18||18===n&&o>=3?{fetchPriority:e}:{fetchpriority:e}}let h=(0,i.forwardRef)((e,t)=>{let{src:r,srcSet:n,sizes:o,height:a,width:s,decoding:l,className:u,style:f,fetchPriority:c,placeholder:d,loading:p,unoptimized:h,fill:g,onLoadRef:y,onLoadingCompleteRef:m,setBlurComplete:b,setShowAltText:_,onLoad:v,onError:E,...w}=e;return i.default.createElement("img",{...w,...getDynamicProps(c),loading:p,width:s,height:a,decoding:l,"data-nimg":g?"fill":"1",className:u,style:f,sizes:o,srcSet:n,src:r,ref:(0,i.useCallback)(e=>{t&&("function"==typeof t?t(e):"object"==typeof t&&(t.current=e)),e&&(E&&(e.src=e.src),e.complete&&handleLoading(e,d,y,m,b,h))},[r,d,y,m,b,E,h,t]),onLoad:e=>{let t=e.currentTarget;handleLoading(t,d,y,m,b,h)},onError:e=>{_(!0),"empty"!==d&&b(!0),E&&E(e)}})});function ImagePreload(e){let{isAppRouter:t,imgAttributes:r}=e,n={as:"image",imageSrcSet:r.srcSet,imageSizes:r.sizes,crossOrigin:r.crossOrigin,referrerPolicy:r.referrerPolicy,...getDynamicProps(r.fetchPriority)};return t&&a.default.preload?(a.default.preload(r.src,n),null):i.default.createElement(s.default,null,i.default.createElement("link",{key:"__nimg-"+r.src+r.srcSet+r.sizes,rel:"preload",href:r.srcSet?void 0:r.src,...n}))}let g=(0,i.forwardRef)((e,t)=>{let r=(0,i.useContext)(c.RouterContext),n=(0,i.useContext)(f.ImageConfigContext),o=(0,i.useMemo)(()=>{let e=p||n||u.imageConfigDefault,t=[...e.deviceSizes,...e.imageSizes].sort((e,t)=>e-t),r=e.deviceSizes.sort((e,t)=>e-t);return{...e,allSizes:t,deviceSizes:r}},[n]),{onLoad:a,onLoadingComplete:s}=e,g=(0,i.useRef)(a);(0,i.useEffect)(()=>{g.current=a},[a]);let y=(0,i.useRef)(s);(0,i.useEffect)(()=>{y.current=s},[s]);let[m,b]=(0,i.useState)(!1),[_,v]=(0,i.useState)(!1),{props:E,meta:w}=(0,l.getImgProps)(e,{defaultLoader:d.default,imgConf:o,blurComplete:m,showAltText:_});return i.default.createElement(i.default.Fragment,null,i.default.createElement(h,{...E,unoptimized:w.unoptimized,placeholder:w.placeholder,fill:w.fill,onLoadRef:g,onLoadingCompleteRef:y,setBlurComplete:b,setShowAltText:v,ref:t}),w.priority?i.default.createElement(ImagePreload,{isAppRouter:!r,imgAttributes:E}):null)});("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8569:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AmpStateContext",{enumerable:!0,get:function(){return i}});let n=r(1024),o=n._(r(2265)),i=o.default.createContext({})},4472:function(e,t){"use strict";function isInAmpMode(e){let{ampFirst:t=!1,hybrid:r=!1,hasQuery:n=!1}=void 0===e?{}:e;return t||r&&n}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isInAmpMode",{enumerable:!0,get:function(){return isInAmpMode}})},7929:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getImgProps",{enumerable:!0,get:function(){return getImgProps}}),r(2637);let n=r(1511),o=r(5751);function isStaticRequire(e){return void 0!==e.default}function getInt(e){return void 0===e?e:"number"==typeof e?Number.isFinite(e)?e:NaN:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function getImgProps(e,t){var r;let i,a,s,{src:l,sizes:u,unoptimized:f=!1,priority:c=!1,loading:d,className:p,quality:h,width:g,height:y,fill:m=!1,style:b,onLoad:_,onLoadingComplete:v,placeholder:E="empty",blurDataURL:w,fetchPriority:I,layout:A,objectFit:S,objectPosition:B,lazyBoundary:T,lazyRoot:C,...O}=e,{imgConf:k,showAltText:R,blurComplete:x,defaultLoader:U}=t,N=k||o.imageConfigDefault;if("allSizes"in N)i=N;else{let e=[...N.deviceSizes,...N.imageSizes].sort((e,t)=>e-t),t=N.deviceSizes.sort((e,t)=>e-t);i={...N,allSizes:e,deviceSizes:t}}let L=O.loader||U;delete O.loader,delete O.srcSet;let j="__next_img_default"in L;if(j){if("custom"===i.loader)throw Error('Image with src "'+l+'" is missing "loader" prop.\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader')}else{let e=L;L=t=>{let{config:r,...n}=t;return e(n)}}if(A){"fill"===A&&(m=!0);let e={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[A];e&&(b={...b,...e});let t={responsive:"100vw",fill:"100vw"}[A];t&&!u&&(u=t)}let D="",P=getInt(g),M=getInt(y);if("object"==typeof(r=l)&&(isStaticRequire(r)||void 0!==r.src)){let e=isStaticRequire(l)?l.default:l;if(!e.src)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received "+JSON.stringify(e));if(!e.height||!e.width)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received "+JSON.stringify(e));if(a=e.blurWidth,s=e.blurHeight,w=w||e.blurDataURL,D=e.src,!m){if(P||M){if(P&&!M){let t=P/e.width;M=Math.round(e.height*t)}else if(!P&&M){let t=M/e.height;P=Math.round(e.width*t)}}else P=e.width,M=e.height}}let F=!c&&("lazy"===d||void 0===d);(!(l="string"==typeof l?l:D)||l.startsWith("data:")||l.startsWith("blob:"))&&(f=!0,F=!1),i.unoptimized&&(f=!0),j&&l.endsWith(".svg")&&!i.dangerouslyAllowSVG&&(f=!0),c&&(I="high");let V=getInt(h),z=Object.assign(m?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:S,objectPosition:B}:{},R?{}:{color:"transparent"},b),J=x||"empty"===E?null:"blur"===E?'url("data:image/svg+xml;charset=utf-8,'+(0,n.getImageBlurSvg)({widthInt:P,heightInt:M,blurWidth:a,blurHeight:s,blurDataURL:w||"",objectFit:z.objectFit})+'")':'url("'+E+'")',W=J?{backgroundSize:z.objectFit||"cover",backgroundPosition:z.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:J}:{},Y=function(e){let{config:t,src:r,unoptimized:n,width:o,quality:i,sizes:a,loader:s}=e;if(n)return{src:r,srcSet:void 0,sizes:void 0};let{widths:l,kind:u}=function(e,t,r){let{deviceSizes:n,allSizes:o}=e;if(r){let e=/(^|\s)(1?\d?\d)vw/g,t=[];for(let n;n=e.exec(r);n)t.push(parseInt(n[2]));if(t.length){let e=.01*Math.min(...t);return{widths:o.filter(t=>t>=n[0]*e),kind:"w"}}return{widths:o,kind:"w"}}if("number"!=typeof t)return{widths:n,kind:"w"};let i=[...new Set([t,2*t].map(e=>o.find(t=>t>=e)||o[o.length-1]))];return{widths:i,kind:"x"}}(t,o,a),f=l.length-1;return{sizes:a||"w"!==u?a:"100vw",srcSet:l.map((e,n)=>s({config:t,src:r,quality:i,width:e})+" "+("w"===u?e:n+1)+u).join(", "),src:s({config:t,src:r,quality:i,width:l[f]})}}({config:i,src:l,unoptimized:f,width:P,quality:V,sizes:u,loader:L}),H={...O,loading:F?"lazy":d,fetchPriority:I,width:P,height:M,decoding:"async",className:p,style:{...z,...W},sizes:Y.sizes,srcSet:Y.srcSet,src:Y.src},$={unoptimized:f,priority:c,placeholder:E,fill:m};return{props:H,meta:$}}},5793:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{defaultHead:function(){return defaultHead},default:function(){return _default}});let n=r(1024),o=r(8533),i=o._(r(2265)),a=n._(r(110)),s=r(8569),l=r(1852),u=r(4472);function defaultHead(e){void 0===e&&(e=!1);let t=[i.default.createElement("meta",{charSet:"utf-8"})];return e||t.push(i.default.createElement("meta",{name:"viewport",content:"width=device-width"})),t}function onlyReactElement(e,t){return"string"==typeof t||"number"==typeof t?e:t.type===i.default.Fragment?e.concat(i.default.Children.toArray(t.props.children).reduce((e,t)=>"string"==typeof t||"number"==typeof t?e:e.concat(t),[])):e.concat(t)}r(2637);let f=["name","httpEquiv","charSet","itemProp"];function reduceComponents(e,t){let{inAmpMode:r}=t;return e.reduce(onlyReactElement,[]).reverse().concat(defaultHead(r).reverse()).filter(function(){let e=new Set,t=new Set,r=new Set,n={};return o=>{let i=!0,a=!1;if(o.key&&"number"!=typeof o.key&&o.key.indexOf("$")>0){a=!0;let t=o.key.slice(o.key.indexOf("$")+1);e.has(t)?i=!1:e.add(t)}switch(o.type){case"title":case"base":t.has(o.type)?i=!1:t.add(o.type);break;case"meta":for(let e=0,t=f.length;e<t;e++){let t=f[e];if(o.props.hasOwnProperty(t)){if("charSet"===t)r.has(t)?i=!1:r.add(t);else{let e=o.props[t],r=n[t]||new Set;("name"!==t||!a)&&r.has(e)?i=!1:(r.add(e),n[t]=r)}}}}return i}}()).reverse().map((e,t)=>{let n=e.key||t;if(!r&&"link"===e.type&&e.props.href&&["https://fonts.googleapis.com/css","https://use.typekit.net/"].some(t=>e.props.href.startsWith(t))){let t={...e.props||{}};return t["data-href"]=t.href,t.href=void 0,t["data-optimized-fonts"]=!0,i.default.cloneElement(e,t)}return i.default.cloneElement(e,{key:n})})}let _default=function(e){let{children:t}=e,r=(0,i.useContext)(s.AmpStateContext),n=(0,i.useContext)(l.HeadManagerContext);return i.default.createElement(a.default,{reduceComponentsToState:reduceComponents,headManager:n,inAmpMode:(0,u.isInAmpMode)(r)},t)};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1511:function(e,t){"use strict";function getImageBlurSvg(e){let{widthInt:t,heightInt:r,blurWidth:n,blurHeight:o,blurDataURL:i,objectFit:a}=e,s=n?40*n:t,l=o?40*o:r,u=s&&l?"viewBox='0 0 "+s+" "+l+"'":"";return"%3Csvg xmlns='http://www.w3.org/2000/svg' "+u+"%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='"+(u?"none":"contain"===a?"xMidYMid":"cover"===a?"xMidYMid slice":"none")+"' style='filter: url(%23b);' href='"+i+"'/%3E%3C/svg%3E"}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"getImageBlurSvg",{enumerable:!0,get:function(){return getImageBlurSvg}})},7327:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ImageConfigContext",{enumerable:!0,get:function(){return a}});let n=r(1024),o=n._(r(2265)),i=r(5751),a=o.default.createContext(i.imageConfigDefault)},5751:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{VALID_LOADERS:function(){return r},imageConfigDefault:function(){return n}});let r=["default","imgix","cloudinary","akamai","custom"],n={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:60,formats:["image/webp"],dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"inline",remotePatterns:[],unoptimized:!1}},679:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{unstable_getImgProps:function(){return unstable_getImgProps},default:function(){return l}});let n=r(1024),o=r(7929),i=r(2637),a=r(413),s=n._(r(9950)),unstable_getImgProps=e=>{(0,i.warnOnce)("Warning: unstable_getImgProps() is experimental and may change or be removed at any time. Use at your own risk.");let{props:t}=(0,o.getImgProps)(e,{defaultLoader:s.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}},l=a.Image},9950:function(e,t){"use strict";function defaultLoader(e){let{config:t,src:r,width:n,quality:o}=e;return t.path+"?url="+encodeURIComponent(r)+"&w="+n+"&q="+(o||75)}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r}}),defaultLoader.__next_img_default=!0;let r=defaultLoader},6304:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RouterContext",{enumerable:!0,get:function(){return i}});let n=r(1024),o=n._(r(2265)),i=o.default.createContext(null)},110:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return SideEffect}});let n=r(2265),o=n.useLayoutEffect,i=n.useEffect;function SideEffect(e){let{headManager:t,reduceComponentsToState:r}=e;function emitChange(){if(t&&t.mountedInstances){let o=n.Children.toArray(Array.from(t.mountedInstances).filter(Boolean));t.updateHead(r(o,e))}}return o(()=>{var r;return null==t||null==(r=t.mountedInstances)||r.add(e.children),()=>{var r;null==t||null==(r=t.mountedInstances)||r.delete(e.children)}}),o(()=>(t&&(t._pendingUpdate=emitChange),()=>{t&&(t._pendingUpdate=emitChange)})),i(()=>(t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null),()=>{t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null)})),null}},2637:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"warnOnce",{enumerable:!0,get:function(){return warnOnce}});let warnOnce=e=>{}},8960:function(e){!function(){var t={229:function(e){var t,r,n,o=e.exports={};function defaultSetTimout(){throw Error("setTimeout has not been defined")}function defaultClearTimeout(){throw Error("clearTimeout has not been defined")}function runTimeout(e){if(t===setTimeout)return setTimeout(e,0);if((t===defaultSetTimout||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){t=defaultSetTimout}try{r="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){r=defaultClearTimeout}}();var i=[],a=!1,s=-1;function cleanUpNextTick(){a&&n&&(a=!1,n.length?i=n.concat(i):s=-1,i.length&&drainQueue())}function drainQueue(){if(!a){var e=runTimeout(cleanUpNextTick);a=!0;for(var t=i.length;t;){for(n=i,i=[];++s<t;)n&&n[s].run();s=-1,t=i.length}n=null,a=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===defaultClearTimeout||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}o.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];i.push(new Item(e,t)),1!==i.length||a||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=noop,o.addListener=noop,o.once=noop,o.off=noop,o.removeListener=noop,o.removeAllListeners=noop,o.emit=noop,o.prependListener=noop,o.prependOnceListener=noop,o.listeners=function(e){return[]},o.binding=function(e){throw Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw Error("process.chdir is not supported")},o.umask=function(){return 0}}},r={};function __nccwpck_require__(e){var n=r[e];if(void 0!==n)return n.exports;var o=r[e]={exports:{}},i=!0;try{t[e](o,o.exports,__nccwpck_require__),i=!1}finally{i&&delete r[e]}return o.exports}__nccwpck_require__.ab="//";var n=__nccwpck_require__(229);e.exports=n}()},622:function(e,t,r){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(2265),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function q(e,t,r){var n,i={},u=null,f=null;for(n in void 0!==r&&(u=""+r),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(f=t.ref),t)a.call(t,n)&&!l.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===i[n]&&(i[n]=t[n]);return{$$typeof:o,type:e,key:u,ref:f,props:i,_owner:s.current}}t.Fragment=i,t.jsx=q,t.jsxs=q},7437:function(e,t,r){"use strict";e.exports=r(622)},6691:function(e,t,r){e.exports=r(679)},6345:function(e,t,r){"use strict";var n=r(7133).lW;let o=void 0!==n,i=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,a=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function _parse(e,t,r){null==r&&null!==t&&"object"==typeof t&&(r=t,t=void 0),o&&n.isBuffer(e)&&(e=e.toString()),e&&65279===e.charCodeAt(0)&&(e=e.slice(1));let s=JSON.parse(e,t);if(null===s||"object"!=typeof s)return s;let l=r&&r.protoAction||"error",u=r&&r.constructorAction||"error";if("ignore"===l&&"ignore"===u)return s;if("ignore"!==l&&"ignore"!==u){if(!1===i.test(e)&&!1===a.test(e))return s}else if("ignore"!==l&&"ignore"===u){if(!1===i.test(e))return s}else if(!1===a.test(e))return s;return filter(s,{protoAction:l,constructorAction:u,safe:r&&r.safe})}function filter(e,{protoAction:t="error",constructorAction:r="error",safe:n}={}){let o=[e];for(;o.length;){let e=o;for(let i of(o=[],e)){if("ignore"!==t&&Object.prototype.hasOwnProperty.call(i,"__proto__")){if(!0===n)return null;if("error"===t)throw SyntaxError("Object contains forbidden prototype property");delete i.__proto__}if("ignore"!==r&&Object.prototype.hasOwnProperty.call(i,"constructor")&&Object.prototype.hasOwnProperty.call(i.constructor,"prototype")){if(!0===n)return null;if("error"===r)throw SyntaxError("Object contains forbidden prototype property");delete i.constructor}for(let e in i){let t=i[e];t&&"object"==typeof t&&o.push(t)}}}return e}function parse(e,t,r){let n=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return _parse(e,t,r)}finally{Error.stackTraceLimit=n}}e.exports=parse,e.exports.default=parse,e.exports.parse=parse,e.exports.safeParse=function(e,t){let r=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return _parse(e,t,{safe:!0})}catch(e){return null}finally{Error.stackTraceLimit=r}},e.exports.scan=filter},1117:function(e){e.exports=function(e,t){let r;if("function"!=typeof e)throw TypeError(`Expected the first argument to be a \`function\`, got \`${typeof e}\`.`);let n=0;return function(...o){clearTimeout(r);let i=Date.now(),a=i-n,s=t-a;s<=0?(n=i,e.apply(this,o)):r=setTimeout(()=>{n=Date.now(),e.apply(this,o)},s)}}},9808:function(e,t,r){"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=r(2265),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=n.useState,a=n.useEffect,s=n.useLayoutEffect,l=n.useDebugValue;function checkIfSnapshotChanged(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!o(e,r)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=i({inst:{value:r,getSnapshot:t}}),o=n[0].inst,u=n[1];return s(function(){o.value=r,o.getSnapshot=t,checkIfSnapshotChanged(o)&&u({inst:o})},[e,r,t]),a(function(){return checkIfSnapshotChanged(o)&&u({inst:o}),e(function(){checkIfSnapshotChanged(o)&&u({inst:o})})},[e]),l(r),r};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:u},6272:function(e,t,r){"use strict";e.exports=r(9808)},3223:function(e,t,r){"use strict";r.d(t,{RJ:function(){return dist_useChat}});var n,o,i,a=r(2265),s="vercel.ai.error",l=Symbol.for(s),u=class _AISDKError extends Error{constructor({name:e,message:t,cause:r}){super(t),this[o]=!0,this.name=e,this.cause=r}static isInstance(e){return _AISDKError.hasMarker(e,s)}static hasMarker(e,t){let r=Symbol.for(t);return null!=e&&"object"==typeof e&&r in e&&"boolean"==typeof e[r]&&!0===e[r]}toJSON(){return{name:this.name,message:this.message}}};o=l;var f=u,c=(Symbol.for("vercel.ai.error.AI_APICallError"),Symbol.for("vercel.ai.error.AI_EmptyResponseBodyError"),"AI_InvalidArgumentError"),d=`vercel.ai.error.${c}`,p=Symbol.for(d),h=class extends f{constructor({message:e,cause:t,argument:r}){super({name:c,message:e,cause:t}),this[i]=!0,this.argument=r}static isInstance(e){return f.hasMarker(e,d)}};i=p,Symbol.for("vercel.ai.error.AI_InvalidPromptError"),Symbol.for("vercel.ai.error.AI_InvalidResponseDataError"),Symbol.for("vercel.ai.error.AI_JSONParseError"),Symbol.for("vercel.ai.error.AI_LoadAPIKeyError"),Symbol.for("vercel.ai.error.AI_LoadSettingError"),Symbol.for("vercel.ai.error.AI_NoContentGeneratedError"),Symbol.for("vercel.ai.error.AI_NoSuchModelError"),Symbol.for("vercel.ai.error.AI_TooManyEmbeddingValuesForCallError"),Symbol.for("vercel.ai.error.AI_TypeValidationError"),Symbol.for("vercel.ai.error.AI_UnsupportedFunctionalityError");let customAlphabet=(e,t=21)=>(r=t)=>{let n="",o=r;for(;o--;)n+=e[Math.random()*e.length|0];return n};var g=r(6345);r(2601);var y=(({prefix:e,size:t=7,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:n="-"}={})=>{let o=customAlphabet(r,t);if(null==e)return o;if(r.includes(n))throw new h({argument:"separator",message:`The separator "${n}" must not be part of the alphabet "${r}".`});return t=>`${e}${n}${o(t)}`})();Symbol.for("vercel.ai.validator");var{btoa:m,atob:b}=globalThis;Symbol("Let zodToJsonSchema decide on which parser to use");let getRelativePath=(e,t)=>{let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];r++);return[(e.length-r).toString(),...t.slice(r)].join("/")};var _={code:"0",name:"text",parse:e=>{if("string"!=typeof e)throw Error('"text" parts expect a string value.');return{type:"text",value:e}}},v={code:"1",name:"function_call",parse:e=>{if(null==e||"object"!=typeof e||!("function_call"in e)||"object"!=typeof e.function_call||null==e.function_call||!("name"in e.function_call)||!("arguments"in e.function_call)||"string"!=typeof e.function_call.name||"string"!=typeof e.function_call.arguments)throw Error('"function_call" parts expect an object with a "function_call" property.');return{type:"function_call",value:e}}},E={code:"2",name:"data",parse:e=>{if(!Array.isArray(e))throw Error('"data" parts expect an array value.');return{type:"data",value:e}}},w={code:"3",name:"error",parse:e=>{if("string"!=typeof e)throw Error('"error" parts expect a string value.');return{type:"error",value:e}}},I={code:"4",name:"assistant_message",parse:e=>{if(null==e||"object"!=typeof e||!("id"in e)||!("role"in e)||!("content"in e)||"string"!=typeof e.id||"string"!=typeof e.role||"assistant"!==e.role||!Array.isArray(e.content)||!e.content.every(e=>null!=e&&"object"==typeof e&&"type"in e&&"text"===e.type&&"text"in e&&null!=e.text&&"object"==typeof e.text&&"value"in e.text&&"string"==typeof e.text.value))throw Error('"assistant_message" parts expect an object with an "id", "role", and "content" property.');return{type:"assistant_message",value:e}}},A={code:"5",name:"assistant_control_data",parse:e=>{if(null==e||"object"!=typeof e||!("threadId"in e)||!("messageId"in e)||"string"!=typeof e.threadId||"string"!=typeof e.messageId)throw Error('"assistant_control_data" parts expect an object with a "threadId" and "messageId" property.');return{type:"assistant_control_data",value:{threadId:e.threadId,messageId:e.messageId}}}},S={code:"6",name:"data_message",parse:e=>{if(null==e||"object"!=typeof e||!("role"in e)||!("data"in e)||"string"!=typeof e.role||"data"!==e.role)throw Error('"data_message" parts expect an object with a "role" and "data" property.');return{type:"data_message",value:e}}},B={code:"7",name:"tool_calls",parse:e=>{if(null==e||"object"!=typeof e||!("tool_calls"in e)||"object"!=typeof e.tool_calls||null==e.tool_calls||!Array.isArray(e.tool_calls)||e.tool_calls.some(e=>null==e||"object"!=typeof e||!("id"in e)||"string"!=typeof e.id||!("type"in e)||"string"!=typeof e.type||!("function"in e)||null==e.function||"object"!=typeof e.function||!("arguments"in e.function)||"string"!=typeof e.function.name||"string"!=typeof e.function.arguments))throw Error('"tool_calls" parts expect an object with a ToolCallPayload.');return{type:"tool_calls",value:e}}},T={code:"8",name:"message_annotations",parse:e=>{if(!Array.isArray(e))throw Error('"message_annotations" parts expect an array value.');return{type:"message_annotations",value:e}}},C={code:"9",name:"tool_call",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("toolName"in e)||"string"!=typeof e.toolName||!("args"in e)||"object"!=typeof e.args)throw Error('"tool_call" parts expect an object with a "toolCallId", "toolName", and "args" property.');return{type:"tool_call",value:e}}},O={code:"a",name:"tool_result",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("result"in e))throw Error('"tool_result" parts expect an object with a "toolCallId" and a "result" property.');return{type:"tool_result",value:e}}},k={code:"b",name:"tool_call_streaming_start",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("toolName"in e)||"string"!=typeof e.toolName)throw Error('"tool_call_streaming_start" parts expect an object with a "toolCallId" and "toolName" property.');return{type:"tool_call_streaming_start",value:e}}},R={code:"c",name:"tool_call_delta",parse:e=>{if(null==e||"object"!=typeof e||!("toolCallId"in e)||"string"!=typeof e.toolCallId||!("argsTextDelta"in e)||"string"!=typeof e.argsTextDelta)throw Error('"tool_call_delta" parts expect an object with a "toolCallId" and "argsTextDelta" property.');return{type:"tool_call_delta",value:e}}},x={code:"d",name:"finish_message",parse:e=>{if(null==e||"object"!=typeof e||!("finishReason"in e)||"string"!=typeof e.finishReason)throw Error('"finish_message" parts expect an object with a "finishReason" property.');let t={finishReason:e.finishReason};return"usage"in e&&null!=e.usage&&"object"==typeof e.usage&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(t.usage={promptTokens:"number"==typeof e.usage.promptTokens?e.usage.promptTokens:Number.NaN,completionTokens:"number"==typeof e.usage.completionTokens?e.usage.completionTokens:Number.NaN}),{type:"finish_message",value:t}}},U={code:"e",name:"finish_step",parse:e=>{if(null==e||"object"!=typeof e||!("finishReason"in e)||"string"!=typeof e.finishReason)throw Error('"finish_step" parts expect an object with a "finishReason" property.');let t={finishReason:e.finishReason,isContinued:!1};return"usage"in e&&null!=e.usage&&"object"==typeof e.usage&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(t.usage={promptTokens:"number"==typeof e.usage.promptTokens?e.usage.promptTokens:Number.NaN,completionTokens:"number"==typeof e.usage.completionTokens?e.usage.completionTokens:Number.NaN}),"isContinued"in e&&"boolean"==typeof e.isContinued&&(t.isContinued=e.isContinued),{type:"finish_step",value:t}}},N={[_.code]:_,[v.code]:v,[E.code]:E,[w.code]:w,[I.code]:I,[A.code]:A,[S.code]:S,[B.code]:B,[T.code]:T,[C.code]:C,[O.code]:O,[k.code]:k,[R.code]:R,[x.code]:x,[U.code]:U};_.name,_.code,v.name,v.code,E.name,E.code,w.name,w.code,I.name,I.code,A.name,A.code,S.name,S.code,B.name,B.code,T.name,T.code,C.name,C.code,O.name,O.code,k.name,k.code,R.name,R.code,x.name,x.code,U.name,U.code;var L=[_,v,E,w,I,A,S,B,T,C,O,k,R,x,U].map(e=>e.code),parseStreamPart=e=>{let t=e.indexOf(":");if(-1===t)throw Error("Failed to parse stream string. No separator found.");let r=e.slice(0,t);if(!L.includes(r))throw Error(`Failed to parse stream string. Invalid code ${r}.`);let n=e.slice(t+1),o=JSON.parse(n);return N[r].parse(o)};async function*dist_readDataStream(e,{isAborted:t}={}){let r=new TextDecoder,n=[],o=0;for(;;){let{value:i}=await e.read();if(i&&(n.push(i),o+=i.length,10!==i[i.length-1]))continue;if(0===n.length)break;let a=function(e,t){let r=new Uint8Array(t),n=0;for(let t of e)r.set(t,n),n+=t.length;return e.length=0,r}(n,o);o=0;let s=r.decode(a,{stream:!0}).split("\n").filter(e=>""!==e).map(parseStreamPart);for(let e of s)yield e;if(null==t?void 0:t()){e.cancel();break}}}function assignAnnotationsToMessage(e,t){return e&&t&&t.length?{...e,annotations:[...t]}:e}async function processDataProtocolResponse({reader:e,abortControllerRef:t,update:r,onToolCall:n,onFinish:o,generateId:i=y,getCurrentDate:a=()=>new Date}){var s;let l,u;let f=a(),c={},d=[],p=[],h={},m={completionTokens:NaN,promptTokens:NaN,totalTokens:NaN},b="unknown";for await(let{type:o,value:a}of dist_readDataStream(e,{isAborted:()=>(null==t?void 0:t.current)===null})){if("error"===o)throw Error(a);if("finish_step"===o){a.isContinued||(l={});continue}if("finish_message"===o){if(b=a.finishReason,null!=a.usage){let{completionTokens:e,promptTokens:t}=a.usage;m={completionTokens:e,promptTokens:t,totalTokens:e+t}}continue}if(null!=l&&("text"===o||"tool_call"===o||"tool_call_streaming_start"===o||"tool_call_delta"===o||"tool_result"===o)&&(c.text&&d.push(c.text),c.function_call&&d.push(c.function_call),c.tool_calls&&d.push(c.tool_calls),c=l,l=void 0),"text"===o&&(c.text?c.text={...c.text,content:(c.text.content||"")+a}:c.text={id:i(),role:"assistant",content:a,createdAt:f}),"tool_call_streaming_start"===o)null==c.text&&(c.text={id:i(),role:"assistant",content:"",createdAt:f}),null==c.text.toolInvocations&&(c.text.toolInvocations=[]),h[a.toolCallId]={text:"",toolName:a.toolName,prefixMapIndex:c.text.toolInvocations.length},c.text.toolInvocations.push({state:"partial-call",toolCallId:a.toolCallId,toolName:a.toolName,args:void 0});else if("tool_call_delta"===o){let e=h[a.toolCallId];e.text+=a.argsTextDelta;let{value:t}=function(e){if(void 0===e)return{value:void 0,state:"undefined-input"};try{return{value:g.parse(e),state:"successful-parse"}}catch(t){try{return{value:g.parse(function(e){let t=["ROOT"],r=-1,n=null;function processValueStart(e,o,i){switch(e){case'"':r=o,t.pop(),t.push(i),t.push("INSIDE_STRING");break;case"f":case"t":case"n":r=o,n=o,t.pop(),t.push(i),t.push("INSIDE_LITERAL");break;case"-":t.pop(),t.push(i),t.push("INSIDE_NUMBER");break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=o,t.pop(),t.push(i),t.push("INSIDE_NUMBER");break;case"{":r=o,t.pop(),t.push(i),t.push("INSIDE_OBJECT_START");break;case"[":r=o,t.pop(),t.push(i),t.push("INSIDE_ARRAY_START")}}function processAfterObjectValue(e,n){switch(e){case",":t.pop(),t.push("INSIDE_OBJECT_AFTER_COMMA");break;case"}":r=n,t.pop()}}function processAfterArrayValue(e,n){switch(e){case",":t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":r=n,t.pop()}}for(let o=0;o<e.length;o++){let i=e[o],a=t[t.length-1];switch(a){case"ROOT":processValueStart(i,o,"FINISH");break;case"INSIDE_OBJECT_START":switch(i){case'"':t.pop(),t.push("INSIDE_OBJECT_KEY");break;case"}":r=o,t.pop()}break;case"INSIDE_OBJECT_AFTER_COMMA":'"'===i&&(t.pop(),t.push("INSIDE_OBJECT_KEY"));break;case"INSIDE_OBJECT_KEY":'"'===i&&(t.pop(),t.push("INSIDE_OBJECT_AFTER_KEY"));break;case"INSIDE_OBJECT_AFTER_KEY":":"===i&&(t.pop(),t.push("INSIDE_OBJECT_BEFORE_VALUE"));break;case"INSIDE_OBJECT_BEFORE_VALUE":processValueStart(i,o,"INSIDE_OBJECT_AFTER_VALUE");break;case"INSIDE_OBJECT_AFTER_VALUE":processAfterObjectValue(i,o);break;case"INSIDE_STRING":switch(i){case'"':t.pop(),r=o;break;case"\\":t.push("INSIDE_STRING_ESCAPE");break;default:r=o}break;case"INSIDE_ARRAY_START":"]"===i?(r=o,t.pop()):(r=o,processValueStart(i,o,"INSIDE_ARRAY_AFTER_VALUE"));break;case"INSIDE_ARRAY_AFTER_VALUE":switch(i){case",":t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":r=o,t.pop();break;default:r=o}break;case"INSIDE_ARRAY_AFTER_COMMA":processValueStart(i,o,"INSIDE_ARRAY_AFTER_VALUE");break;case"INSIDE_STRING_ESCAPE":t.pop(),r=o;break;case"INSIDE_NUMBER":switch(i){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":r=o;break;case"e":case"E":case"-":case".":break;case",":t.pop(),"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&processAfterArrayValue(i,o),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]&&processAfterObjectValue(i,o);break;case"}":t.pop(),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]&&processAfterObjectValue(i,o);break;case"]":t.pop(),"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&processAfterArrayValue(i,o);break;default:t.pop()}break;case"INSIDE_LITERAL":{let a=e.substring(n,o+1);"false".startsWith(a)||"true".startsWith(a)||"null".startsWith(a)?r=o:(t.pop(),"INSIDE_OBJECT_AFTER_VALUE"===t[t.length-1]?processAfterObjectValue(i,o):"INSIDE_ARRAY_AFTER_VALUE"===t[t.length-1]&&processAfterArrayValue(i,o))}}}let o=e.slice(0,r+1);for(let r=t.length-1;r>=0;r--){let i=t[r];switch(i){case"INSIDE_STRING":o+='"';break;case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":o+="}";break;case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":o+="]";break;case"INSIDE_LITERAL":{let t=e.substring(n,e.length);"true".startsWith(t)?o+="true".slice(t.length):"false".startsWith(t)?o+="false".slice(t.length):"null".startsWith(t)&&(o+="null".slice(t.length))}}}return o}(e)),state:"repaired-parse"}}catch(e){}}return{value:void 0,state:"failed-parse"}}(e.text);c.text.toolInvocations[e.prefixMapIndex]={state:"partial-call",toolCallId:a.toolCallId,toolName:e.toolName,args:t},c.text.internalUpdateId=i()}else if("tool_call"===o){if(null!=h[a.toolCallId]?c.text.toolInvocations[h[a.toolCallId].prefixMapIndex]={state:"call",...a}:(null==c.text&&(c.text={id:i(),role:"assistant",content:"",createdAt:f}),null==c.text.toolInvocations&&(c.text.toolInvocations=[]),c.text.toolInvocations.push({state:"call",...a})),c.text.internalUpdateId=i(),n){let e=await n({toolCall:a});null!=e&&(c.text.toolInvocations[c.text.toolInvocations.length-1]={state:"result",...a,result:e})}}else if("tool_result"===o){let e=null==(s=c.text)?void 0:s.toolInvocations;if(null==e)throw Error("tool_result must be preceded by a tool_call");let t=e.findIndex(e=>e.toolCallId===a.toolCallId);if(-1===t)throw Error("tool_result must be preceded by a tool_call with the same toolCallId");e[t]={...e[t],state:"result",...a}}let e=null;"function_call"===o&&(c.function_call={id:i(),role:"assistant",content:"",function_call:a.function_call,name:a.function_call.name,createdAt:f},e=c.function_call);let t=null;"tool_calls"===o&&(c.tool_calls={id:i(),role:"assistant",content:"",tool_calls:a.tool_calls,createdAt:f},t=c.tool_calls),"data"===o&&p.push(...a);let y=c.text;"message_annotations"===o&&(u?u.push(...a):u=[...a],e=assignAnnotationsToMessage(c.function_call,u),t=assignAnnotationsToMessage(c.tool_calls,u),y=assignAnnotationsToMessage(c.text,u),null!=c.text&&(c.text.internalUpdateId=i())),(null==u?void 0:u.length)&&(c.text&&(c.text.annotations=[...u]),c.function_call&&(c.function_call.annotations=[...u]),c.tool_calls&&(c.tool_calls.annotations=[...u]));let _=[e,t,y].filter(Boolean).map(e=>({...assignAnnotationsToMessage(e,u)}));r([...d,..._],[...p])}return null==o||o({message:c.text,finishReason:b,usage:m}),{messages:[c.text,c.function_call,c.tool_calls].filter(Boolean),data:p}}var dist_getOriginalFetch=()=>fetch;async function callChatApi({api:e,body:t,streamProtocol:r="data",credentials:n,headers:o,abortController:i,restoreMessagesOnFailure:a,onResponse:s,onUpdate:l,onFinish:u,onToolCall:f,generateId:c,fetch:d=dist_getOriginalFetch()}){var p,h;let g=await d(e,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json",...o},signal:null==(p=null==i?void 0:i())?void 0:p.signal,credentials:n}).catch(e=>{throw a(),e});if(s)try{await s(g)}catch(e){throw e}if(!g.ok)throw a(),Error(null!=(h=await g.text())?h:"Failed to fetch the chat response.");if(!g.body)throw Error("The response body is empty.");let y=g.body.getReader();switch(r){case"text":{let e=function(e){let t=new TextDecoder;return function(e){return e?t.decode(e,{stream:!0}):""}}(),t={id:c(),createdAt:new Date,role:"assistant",content:""};for(;;){let{done:r,value:n}=await y.read();if(r)break;if(t.content+=e(n),l([{...t}],[]),(null==i?void 0:i())===null){y.cancel();break}}return null==u||u(t,{usage:{completionTokens:NaN,promptTokens:NaN,totalTokens:NaN},finishReason:"unknown"}),{messages:[t],data:[]}}case"data":return await processDataProtocolResponse({reader:y,abortControllerRef:null!=i?{current:i()}:void 0,update:l,onToolCall:f,onFinish({message:e,finishReason:t,usage:r}){u&&null!=e&&u(e,{usage:r,finishReason:t})},generateId:c});default:throw Error(`Unknown stream protocol: ${r}`)}}async function processChatStream({getStreamedResponse:e,experimental_onFunctionCall:t,experimental_onToolCall:r,updateChatRequest:n,getCurrentMessages:o}){for(;;){let i=await e();if("messages"in i){let e=!1;for(let a of i.messages)if(void 0!==a.function_call&&"string"!=typeof a.function_call||void 0!==a.tool_calls&&"string"!=typeof a.tool_calls){if(e=!0,t){let r=a.function_call;if("object"!=typeof r){console.warn("experimental_onFunctionCall should not be defined when using tools");continue}let i=await t(o(),r);if(void 0===i){e=!1;break}n(i)}if(r){let t=a.tool_calls;if(!Array.isArray(t)||t.some(e=>"object"!=typeof e)){console.warn("experimental_onToolCall should not be defined when using tools");continue}let i=await r(o(),t);if(void 0===i){e=!1;break}n(i)}}if(!e)break}else{let fixFunctionCallArguments2=function(e){for(let t of e.messages){if(void 0!==t.tool_calls)for(let e of t.tool_calls)"object"==typeof e&&e.function.arguments&&"string"!=typeof e.function.arguments&&(e.function.arguments=JSON.stringify(e.function.arguments));void 0!==t.function_call&&"object"==typeof t.function_call&&t.function_call.arguments&&"string"!=typeof t.function_call.arguments&&(t.function_call.arguments=JSON.stringify(t.function_call.arguments))}};if((void 0===i.function_call||"string"==typeof i.function_call)&&(void 0===i.tool_calls||"string"==typeof i.tool_calls))break;if(t){let e=i.function_call;if("object"!=typeof e){console.warn("experimental_onFunctionCall should not be defined when using tools");continue}let r=await t(o(),e);if(void 0===r)break;fixFunctionCallArguments2(r),n(r)}if(r){let e=i.tool_calls;if("object"!=typeof e){console.warn("experimental_onToolCall should not be defined when using functions");continue}let t=await r(o(),e);if(void 0===t)break;fixFunctionCallArguments2(t),n(t)}}}}Symbol.for("vercel.ai.schema");var j=r(6272);let noop=()=>{},D=noop(),P=Object,isUndefined=e=>e===D,isFunction=e=>"function"==typeof e,mergeObjects=(e,t)=>({...e,...t}),isPromiseLike=e=>isFunction(e.then),M=new WeakMap,F=0,stableHash=e=>{let t,r;let n=typeof e,o=e&&e.constructor,i=o==Date;if(P(e)!==e||i||o==RegExp)t=i?e.toJSON():"symbol"==n?e.toString():"string"==n?JSON.stringify(e):""+e;else{if(t=M.get(e))return t;if(t=++F+"~",M.set(e,t),o==Array){for(r=0,t="@";r<e.length;r++)t+=stableHash(e[r])+",";M.set(e,t)}if(o==P){t="#";let n=P.keys(e).sort();for(;!isUndefined(r=n.pop());)isUndefined(e[r])||(t+=r+":"+stableHash(e[r])+",");M.set(e,t)}}return t},V=new WeakMap,z={},J={},W="undefined",Y=typeof window!=W,H=typeof document!=W,hasRequestAnimationFrame=()=>Y&&typeof window.requestAnimationFrame!=W,createCacheHelper=(e,t)=>{let r=V.get(e);return[()=>!isUndefined(t)&&e.get(t)||z,n=>{if(!isUndefined(t)){let o=e.get(t);t in J||(J[t]=o),r[5](t,mergeObjects(o,n),o||z)}},r[6],()=>!isUndefined(t)&&t in J?J[t]:!isUndefined(t)&&e.get(t)||z]},$=!0,[K,G]=Y&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[noop,noop],Q={initFocus:e=>(H&&document.addEventListener("visibilitychange",e),K("focus",e),()=>{H&&document.removeEventListener("visibilitychange",e),G("focus",e)}),initReconnect:e=>{let onOnline=()=>{$=!0,e()},onOffline=()=>{$=!1};return K("online",onOnline),K("offline",onOffline),()=>{G("online",onOnline),G("offline",onOffline)}}},Z=!a.useId,X=!Y||"Deno"in window,rAF=e=>hasRequestAnimationFrame()?window.requestAnimationFrame(e):setTimeout(e,1),ee=X?a.useEffect:a.useLayoutEffect,et="undefined"!=typeof navigator&&navigator.connection,er=!X&&et&&(["slow-2g","2g"].includes(et.effectiveType)||et.saveData),_internal_serialize=e=>{if(isFunction(e))try{e=e()}catch(t){e=""}let t=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?stableHash(e):"",t]},en=0,getTimestamp=()=>++en;var eo={ERROR_REVALIDATE_EVENT:3,FOCUS_EVENT:0,MUTATE_EVENT:2,RECONNECT_EVENT:1};async function internalMutate(...e){let[t,r,n,o]=e,i=mergeObjects({populateCache:!0,throwOnError:!0},"boolean"==typeof o?{revalidate:o}:o||{}),a=i.populateCache,s=i.rollbackOnError,l=i.optimisticData,rollbackOnError=e=>"function"==typeof s?s(e):!1!==s,u=i.throwOnError;if(isFunction(r)){let e=[],n=t.keys();for(let o of n)!/^\$(inf|sub)\$/.test(o)&&r(t.get(o)._k)&&e.push(o);return Promise.all(e.map(mutateByKey))}return mutateByKey(r);async function mutateByKey(r){let o;let[s]=_internal_serialize(r);if(!s)return;let[f,c]=createCacheHelper(t,s),[d,p,h,g]=V.get(t),startRevalidate=()=>{let e=d[s],t=isFunction(i.revalidate)?i.revalidate(f().data,r):!1!==i.revalidate;return t&&(delete h[s],delete g[s],e&&e[0])?e[0](2).then(()=>f().data):f().data};if(e.length<3)return startRevalidate();let y=n,m=getTimestamp();p[s]=[m,0];let b=!isUndefined(l),_=f(),v=_.data,E=_._c,w=isUndefined(E)?v:E;if(b&&c({data:l=isFunction(l)?l(w,v):l,_c:w}),isFunction(y))try{y=y(w)}catch(e){o=e}if(y&&isPromiseLike(y)){if(y=await y.catch(e=>{o=e}),m!==p[s][0]){if(o)throw o;return y}o&&b&&rollbackOnError(o)&&(a=!0,c({data:w,_c:D}))}if(a&&!o){if(isFunction(a)){let e=a(y,w);c({data:e,error:D,_c:D})}else c({data:y,error:D,_c:D})}if(p[s][1]=getTimestamp(),Promise.resolve(startRevalidate()).then(()=>{c({_c:D})}),o){if(u)throw o;return}return y}}let revalidateAllKeys=(e,t)=>{for(let r in e)e[r][0]&&e[r][0](t)},initCache=(e,t)=>{if(!V.has(e)){let r=mergeObjects(Q,t),n={},o=internalMutate.bind(D,e),i=noop,a={},subscribe=(e,t)=>{let r=a[e]||[];return a[e]=r,r.push(t),()=>r.splice(r.indexOf(t),1)},setter=(t,r,n)=>{e.set(t,r);let o=a[t];if(o)for(let e of o)e(r,n)},initProvider=()=>{if(!V.has(e)&&(V.set(e,[n,{},{},{},o,setter,subscribe]),!X)){let t=r.initFocus(setTimeout.bind(D,revalidateAllKeys.bind(D,n,0))),o=r.initReconnect(setTimeout.bind(D,revalidateAllKeys.bind(D,n,1)));i=()=>{t&&t(),o&&o(),V.delete(e)}}};return initProvider(),[e,o,initProvider,i]}return[e,V.get(e)[4]]},[ei,ea]=initCache(new Map),es=mergeObjects({onLoadingSlow:noop,onSuccess:noop,onError:noop,onErrorRetry:(e,t,r,n,o)=>{let i=r.errorRetryCount,a=o.retryCount,s=~~((Math.random()+.5)*(1<<(a<8?a:8)))*r.errorRetryInterval;(isUndefined(i)||!(a>i))&&setTimeout(n,s,o)},onDiscarded:noop,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:er?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:er?5e3:3e3,compare:(e,t)=>stableHash(e)==stableHash(t),isPaused:()=>!1,cache:ei,mutate:ea,fallback:{}},{isOnline:()=>$,isVisible:()=>{let e=H&&document.visibilityState;return isUndefined(e)||"hidden"!==e}}),mergeConfigs=(e,t)=>{let r=mergeObjects(e,t);if(t){let{use:n,fallback:o}=e,{use:i,fallback:a}=t;n&&i&&(r.use=n.concat(i)),o&&a&&(r.fallback=mergeObjects(o,a))}return r},el=(0,a.createContext)({}),eu=Y&&window.__SWR_DEVTOOLS_USE__,ef=eu?window.__SWR_DEVTOOLS_USE__:[],normalize=e=>isFunction(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}],useSWRConfig=()=>mergeObjects(es,(0,a.useContext)(el)),ec=ef.concat(e=>(t,r,n)=>{let o=r&&((...e)=>{let[n]=_internal_serialize(t),[,,,o]=V.get(ei);if(n.startsWith("$inf$"))return r(...e);let i=o[n];return isUndefined(i)?r(...e):(delete o[n],i)});return e(t,o,n)}),subscribeCallback=(e,t,r)=>{let n=t[e]||(t[e]=[]);return n.push(r),()=>{let e=n.indexOf(r);e>=0&&(n[e]=n[n.length-1],n.pop())}};eu&&(window.__SWR_DEVTOOLS_REACT__=a);let ed=a.use||(e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;if("rejected"===e.status)throw e.reason;throw e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t}),e}),ep={dedupe:!0};P.defineProperty(e=>{let{value:t}=e,r=(0,a.useContext)(el),n=isFunction(t),o=(0,a.useMemo)(()=>n?t(r):t,[n,r,t]),i=(0,a.useMemo)(()=>n?o:mergeConfigs(r,o),[n,r,o]),s=o&&o.provider,l=(0,a.useRef)(D);s&&!l.current&&(l.current=initCache(s(i.cache||ei),o));let u=l.current;return u&&(i.cache=u[0],i.mutate=u[1]),ee(()=>{if(u)return u[2]&&u[2](),u[3]},[]),(0,a.createElement)(el.Provider,mergeObjects(e,{value:i}))},"defaultValue",{value:es});let eh=(n=(e,t,r)=>{let{cache:n,compare:o,suspense:i,fallbackData:s,revalidateOnMount:l,revalidateIfStale:u,refreshInterval:f,refreshWhenHidden:c,refreshWhenOffline:d,keepPreviousData:p}=r,[h,g,y,m]=V.get(n),[b,_]=_internal_serialize(e),v=(0,a.useRef)(!1),E=(0,a.useRef)(!1),w=(0,a.useRef)(b),I=(0,a.useRef)(t),A=(0,a.useRef)(r),getConfig=()=>A.current,isActive=()=>getConfig().isVisible()&&getConfig().isOnline(),[S,B,T,C]=createCacheHelper(n,b),O=(0,a.useRef)({}).current,k=isUndefined(s)?r.fallback[b]:s,isEqual=(e,t)=>{for(let r in O)if("data"===r){if(!o(e[r],t[r])&&(!isUndefined(e[r])||!o(z,t[r])))return!1}else if(t[r]!==e[r])return!1;return!0},R=(0,a.useMemo)(()=>{let e=!!b&&!!t&&(isUndefined(l)?!getConfig().isPaused()&&!i&&(!!isUndefined(u)||u):l),getSelectedCache=t=>{let r=mergeObjects(t);return(delete r._k,e)?{isValidating:!0,isLoading:!0,...r}:r},r=S(),n=C(),o=getSelectedCache(r),a=r===n?o:getSelectedCache(n),s=o;return[()=>{let e=getSelectedCache(S()),t=isEqual(e,s);return t?(s.data=e.data,s.isLoading=e.isLoading,s.isValidating=e.isValidating,s.error=e.error,s):(s=e,e)},()=>a]},[n,b]),x=(0,j.useSyncExternalStore)((0,a.useCallback)(e=>T(b,(t,r)=>{isEqual(r,t)||e()}),[n,b]),R[0],R[1]),U=!v.current,N=h[b]&&h[b].length>0,L=x.data,P=isUndefined(L)?k:L,M=x.error,F=(0,a.useRef)(P),z=p?isUndefined(L)?F.current:L:P,J=(!N||!!isUndefined(M))&&(U&&!isUndefined(l)?l:!getConfig().isPaused()&&(i?!isUndefined(P)&&u:isUndefined(P)||u)),W=!!(b&&t&&U&&J),Y=isUndefined(x.isValidating)?W:x.isValidating,H=isUndefined(x.isLoading)?W:x.isLoading,$=(0,a.useCallback)(async e=>{let t,n;let i=I.current;if(!b||!i||E.current||getConfig().isPaused())return!1;let a=!0,s=e||{},l=!y[b]||!s.dedupe,callbackSafeguard=()=>Z?!E.current&&b===w.current&&v.current:b===w.current,u={isValidating:!1,isLoading:!1},finishRequestAndUpdateState=()=>{B(u)},cleanupState=()=>{let e=y[b];e&&e[1]===n&&delete y[b]},f={isValidating:!0};isUndefined(S().data)&&(f.isLoading=!0);try{if(l&&(B(f),r.loadingTimeout&&isUndefined(S().data)&&setTimeout(()=>{a&&callbackSafeguard()&&getConfig().onLoadingSlow(b,r)},r.loadingTimeout),y[b]=[i(_),getTimestamp()]),[t,n]=y[b],t=await t,l&&setTimeout(cleanupState,r.dedupingInterval),!y[b]||y[b][1]!==n)return l&&callbackSafeguard()&&getConfig().onDiscarded(b),!1;u.error=D;let e=g[b];if(!isUndefined(e)&&(n<=e[0]||n<=e[1]||0===e[1]))return finishRequestAndUpdateState(),l&&callbackSafeguard()&&getConfig().onDiscarded(b),!1;let s=S().data;u.data=o(s,t)?s:t,l&&callbackSafeguard()&&getConfig().onSuccess(t,b,r)}catch(r){cleanupState();let e=getConfig(),{shouldRetryOnError:t}=e;!e.isPaused()&&(u.error=r,l&&callbackSafeguard()&&(e.onError(r,b,e),(!0===t||isFunction(t)&&t(r))&&(!getConfig().revalidateOnFocus||!getConfig().revalidateOnReconnect||isActive())&&e.onErrorRetry(r,b,e,e=>{let t=h[b];t&&t[0]&&t[0](eo.ERROR_REVALIDATE_EVENT,e)},{retryCount:(s.retryCount||0)+1,dedupe:!0})))}return a=!1,finishRequestAndUpdateState(),!0},[b,n]),K=(0,a.useCallback)((...e)=>internalMutate(n,w.current,...e),[]);if(ee(()=>{I.current=t,A.current=r,isUndefined(L)||(F.current=L)}),ee(()=>{if(!b)return;let e=$.bind(D,ep),t=0,r=subscribeCallback(b,h,(r,n={})=>{if(r==eo.FOCUS_EVENT){let r=Date.now();getConfig().revalidateOnFocus&&r>t&&isActive()&&(t=r+getConfig().focusThrottleInterval,e())}else if(r==eo.RECONNECT_EVENT)getConfig().revalidateOnReconnect&&isActive()&&e();else if(r==eo.MUTATE_EVENT)return $();else if(r==eo.ERROR_REVALIDATE_EVENT)return $(n)});return E.current=!1,w.current=b,v.current=!0,B({_k:_}),J&&(isUndefined(P)||X?e():rAF(e)),()=>{E.current=!0,r()}},[b]),ee(()=>{let e;function next(){let t=isFunction(f)?f(S().data):f;t&&-1!==e&&(e=setTimeout(execute,t))}function execute(){!S().error&&(c||getConfig().isVisible())&&(d||getConfig().isOnline())?$(ep).then(next):next()}return next(),()=>{e&&(clearTimeout(e),e=-1)}},[f,c,d,b]),(0,a.useDebugValue)(z),i&&isUndefined(P)&&b){if(!Z&&X)throw Error("Fallback data is required when using suspense in SSR.");I.current=t,A.current=r,E.current=!1;let e=m[b];if(!isUndefined(e)){let t=K(e);ed(t)}if(isUndefined(M)){let e=$(ep);isUndefined(z)||(e.status="fulfilled",e.value=!0),ed(e)}else throw M}return{mutate:K,get data(){return O.data=!0,z},get error(){return O.error=!0,M},get isValidating(){return O.isValidating=!0,Y},get isLoading(){return O.isLoading=!0,H}}},function(...e){let t=useSWRConfig(),[r,o,i]=normalize(e),a=mergeConfigs(t,i),s=n,{use:l}=a,u=(l||[]).concat(ec);for(let e=u.length;e--;)s=u[e](s);return s(r,o||a.fetcher||null,a)});var eg=r(1117);function throttle(e,t){return null!=t?eg(e,t):e}var getStreamedResponse=async(e,t,r,n,o,i,a,s,l,u,f,c,d,p,h,g,y)=>{var m;let b=a.current;r(t.messages,!1);let _=p?t.messages:t.messages.map(({role:e,content:t,experimental_attachments:r,name:n,data:o,annotations:i,toolInvocations:a,function_call:s,tool_calls:l,tool_call_id:u})=>({role:e,content:t,...void 0!==r&&{experimental_attachments:r},...void 0!==n&&{name:n},...void 0!==o&&{data:o},...void 0!==i&&{annotations:i},...void 0!==a&&{toolInvocations:a},tool_call_id:u,...void 0!==s&&{function_call:s},...void 0!==l&&{tool_calls:l}})),v=o.current;return await callChatApi({api:e,body:null!=(m=null==h?void 0:h({messages:t.messages,requestData:t.data,requestBody:t.body}))?m:{messages:_,data:t.data,...i.current.body,...t.body,...void 0!==t.functions&&{functions:t.functions},...void 0!==t.function_call&&{function_call:t.function_call},...void 0!==t.tools&&{tools:t.tools},...void 0!==t.tool_choice&&{tool_choice:t.tool_choice}},streamProtocol:u,credentials:i.current.credentials,headers:{...i.current.headers,...t.headers},abortController:()=>s.current,restoreMessagesOnFailure(){y||r(b,!1)},onResponse:c,onUpdate(e,o){r([...t.messages,...e],!1),n([...null!=v?v:[],...null!=o?o:[]],!1)},onToolCall:d,onFinish:f,generateId:l,fetch:g})};function isAssistantMessageWithCompletedToolCalls(e){return"assistant"===e.role&&e.toolInvocations&&e.toolInvocations.length>0&&e.toolInvocations.every(e=>"result"in e)}async function prepareAttachmentsForRequest(e){if(null==e)return[];if(e instanceof FileList)return Promise.all(Array.from(e).map(async e=>{let{name:t,type:r}=e,n=await new Promise((t,r)=>{let n=new FileReader;n.onload=e=>{var r;t(null==(r=e.target)?void 0:r.result)},n.onerror=e=>r(e),n.readAsDataURL(e)});return{name:t,contentType:r,url:n}}));if(Array.isArray(e))return e;throw Error("Invalid attachments type")}var dist_useChat=function({api:e="/api/chat",id:t,initialMessages:r,initialInput:n="",sendExtraMessageFields:o,experimental_onFunctionCall:i,experimental_onToolCall:s,onToolCall:l,experimental_prepareRequestBody:u,experimental_maxAutomaticRoundtrips:f=0,maxAutomaticRoundtrips:c=f,maxToolRoundtrips:d=c,maxSteps:p=null!=d?d+1:1,streamMode:h,streamProtocol:g,onResponse:m,onFinish:b,onError:_,credentials:v,headers:E,body:w,generateId:I=y,fetch:A,keepLastMessageOnError:S=!1,experimental_throttle:B}={}){h&&(null!=g||(g="text"===h?"text":void 0));let T=(0,a.useId)(),C=null!=t?t:T,O="string"==typeof e?[e,C]:C,[k]=(0,a.useState)([]),{data:R,mutate:x}=eh([O,"messages"],null,{fallbackData:null!=r?r:k}),U=(0,a.useRef)(R||[]);(0,a.useEffect)(()=>{U.current=R||[]},[R]);let{data:N,mutate:L}=eh([O,"streamData"],null),j=(0,a.useRef)(N);(0,a.useEffect)(()=>{j.current=N},[N]);let{data:D=!1,mutate:P}=eh([O,"loading"],null),{data:M,mutate:F}=eh([O,"error"],null),V=(0,a.useRef)(null),z=(0,a.useRef)({credentials:v,headers:E,body:w});(0,a.useEffect)(()=>{z.current={credentials:v,headers:E,body:w}},[v,E,w]);let J=(0,a.useCallback)(async t=>{let r=U.current.length;try{P(!0),F(void 0);let r=new AbortController;V.current=r,await processChatStream({getStreamedResponse:()=>getStreamedResponse(e,t,throttle(x,B),throttle(L,B),j,z,U,V,I,g,b,m,l,o,u,A,S),experimental_onFunctionCall:i,experimental_onToolCall:s,updateChatRequest:e=>{t=e},getCurrentMessages:()=>U.current}),V.current=null}catch(e){if("AbortError"===e.name)return V.current=null,null;_&&e instanceof Error&&_(e),F(e)}finally{P(!1)}let n=U.current,a=n[n.length-1];n.length>r&&null!=a&&p>1&&isAssistantMessageWithCompletedToolCalls(a)&&function(e){let t=0;for(let r=e.length-1;r>=0;r--)if("assistant"===e[r].role)t++;else break;return t}(n)<p&&await J({messages:n})},[x,P,e,z,m,b,_,F,L,j,g,o,i,s,u,l,p,U,V,I,A,S,B]),W=(0,a.useCallback)(async(e,{options:t,functions:r,function_call:n,tools:o,tool_choice:i,data:a,headers:s,body:l,experimental_attachments:u}={})=>{var f,c;e.id||(e.id=I());let d=await prepareAttachmentsForRequest(u),p={headers:null!=s?s:null==t?void 0:t.headers,body:null!=l?l:null==t?void 0:t.body},h=U.current.concat({...e,id:null!=(f=e.id)?f:I(),createdAt:null!=(c=e.createdAt)?c:new Date,experimental_attachments:d.length>0?d:void 0}),g={messages:h,options:p,headers:p.headers,body:p.body,data:a,...void 0!==r&&{functions:r},...void 0!==n&&{function_call:n},...void 0!==o&&{tools:o},...void 0!==i&&{tool_choice:i}};return J(g)},[J,I]),Y=(0,a.useCallback)(async({options:e,functions:t,function_call:r,tools:n,tool_choice:o,data:i,headers:a,body:s}={})=>{if(0===U.current.length)return null;let l={headers:null!=a?a:null==e?void 0:e.headers,body:null!=s?s:null==e?void 0:e.body},u=U.current[U.current.length-1];if("assistant"===u.role){let e={messages:U.current.slice(0,-1),options:l,headers:l.headers,body:l.body,data:i,...void 0!==t&&{functions:t},...void 0!==r&&{function_call:r},...void 0!==n&&{tools:n},...void 0!==o&&{tool_choice:o}};return J(e)}let f={messages:U.current,options:l,headers:l.headers,body:l.body,data:i,...void 0!==t&&{functions:t},...void 0!==r&&{function_call:r},...void 0!==n&&{tools:n},...void 0!==o&&{tool_choice:o}};return J(f)},[J]),H=(0,a.useCallback)(()=>{V.current&&(V.current.abort(),V.current=null)},[]),$=(0,a.useCallback)(e=>{"function"==typeof e&&(e=e(U.current)),x(e,!1),U.current=e},[x]),K=(0,a.useCallback)(e=>{"function"==typeof e&&(e=e(j.current)),L(e,!1),j.current=e},[L]),[G,Q]=(0,a.useState)(n),Z=(0,a.useCallback)(async(e,t={},r)=>{var n,o,i,a,s;if(null==(n=null==e?void 0:e.preventDefault)||n.call(e),!G&&!t.allowEmptySubmit)return;r&&(z.current={...z.current,...r});let l=await prepareAttachmentsForRequest(t.experimental_attachments),u={headers:null!=(i=t.headers)?i:null==(o=t.options)?void 0:o.headers,body:null!=(s=t.body)?s:null==(a=t.options)?void 0:a.body},f=G||l.length||!t.allowEmptySubmit?U.current.concat({id:I(),createdAt:new Date,role:"user",content:G,experimental_attachments:l.length>0?l:void 0}):U.current,c={messages:f,options:u,headers:u.headers,body:u.body,data:t.data};J(c),Q("")},[G,I,J]),addToolResult=({toolCallId:e,result:t})=>{let r=U.current.map((r,n,o)=>n===o.length-1&&"assistant"===r.role&&r.toolInvocations?{...r,toolInvocations:r.toolInvocations.map(r=>r.toolCallId===e?{...r,result:t}:r)}:r);x(r,!1);let n=r[r.length-1];isAssistantMessageWithCompletedToolCalls(n)&&J({messages:r})};return{messages:R||[],setMessages:$,data:N,setData:K,error:M,append:W,reload:Y,stop:H,input:G,setInput:Q,handleInputChange:e=>{Q(e.target.value)},handleSubmit:Z,isLoading:D,addToolResult,experimental_addToolResult:addToolResult}}}}]);